\chapter{CONCLUSION}\label{chapter5}
\section{General conclusions}
Increasingly, the research regarding the facade feature extraction from complex structures, under a dynamic and hard-to-work environment (crowded cities) represent a new branch of research, with perspectives to the areas of technology, such as the concept of smart cities, as well as the areas of Cartography, toward to more detailed maps and semantized systems. In this study, an overview of the most common techniques was presented, as well as an introduction of instruments and ways of observing structural information through remote sensing data. Besides, was also presented a methodology to detect facade features by the use of a CNN, incorporating this detection to its respective geometry through the application of a SfM pipeline and ray-tracing analysis. 

The experiments are mainly focused in aspects such those aforementioned techniques and their computational capability in detecting facade features, regardless of architectural style, location, scale, orientation or color variation. All the images used in the training procedures underwent no preprocessing whatsoever, keeping the study area as close as possible as to what would be a common-user dataset (photos taken from the streets). 

In this sense, the edges of the acquired delineated features show the robustness of the CNN technique in segmenting any kind of material, in any level of brightness (shadow and occluded areas), orientation, or presence of pedestrians and cars. Considering that the values achieved for the individual datasets were above 90\%, it is concluded that the CNNs can provide good results for image segmentation in many situations. However, being a supervised architecture, the network has to pass through a huge training set, with no guarantees of good inputs, in order to get reliable inferences. When applied over unknown data, such as the experiment on the SJC data, it was noted that the neural network failed, except in regions where the facade features share similar characteristics, though such occasions were rare.

\subsection{Brazilian architectural styles and unreachable areas}
In Section \ref{map-brazil}, it is shown some of the difficulties encountered specifically in Brazil. In addition, in Chapter \ref{chapter4}, experiments were carried out on the extraction and reconstruction of features on Brazilian facades. As mentioned before, factors such as local culture, number of inhabitants and economy are determinant in local geometry issues, especially in poor regions whose civil construction is often made irregularly, over equally irregular and difficult access areas. Not only that, but the factors can also determine, for example, the geometry of city-centers, such as the presence of skyscrapers (e.g. São Paulo, Brazil; Changhai, China; and New York, United States) or commercial areas with buildings with a maximum of four floors (e.g. London, Germany, and France). Thus, studies involving the measurement of these factors could contribute as input for the development of 3D reconstruction techniques as presented in this document.
%Na Seção \ref{map-brazil}, foram mostrados algumas das dificuldades encontradas especificamente no Brasil. Além disso, no Capítulo \ref{chapter4}, foram realizados experimentos quanto a extração de feições sobre fachadas brasileiras. Como mencionado anteriormente, fatores como cultura, número de habitantes e economia locais, são determinantes em questões da geometria local, principalmente, em regiões desprevilegiadas cuja construção civil, muitas vezes, é realizada irregularmente, sobre áreas igualmente irregulares e de difícil acesso. Não só isso, mas os respectivos fatores podem também determinar, por exemplo, a geometria dos grandes centros, como a presença de arranha-céus (e.g. Brasil, Changhai e Nova York) ou áreas comerciais com edificações com no máximo quatro andares (e.g. Londres, Alemanha e França). Assim, estudos envolvendo a mensuração destes fatores, podem servir como entrada para o desenvolvimento de técnicas de reconstrução 3D como à apresentada neste trabalho.

%Até o momento, a pesquisa compreendendo a extração de feições sobre tais áreas ainda é nova e carece de muitas

%This was the first of many studies directed towards to automatic detection of urban features focusing on complex and \textquotedblleft non-patterned\textquotedblright$~$environments. The methodology is consistent but some traditional issues still remain, such as real-time detection and reconstruction, and facade geometry simplification and standardization.

% Visão/opinião após o uso dos dados de são josé dos campos

% The level of accuracy has been reached representatives marks.

% levantamento e reconstrução em tempo real pelo uso de CNN e SfM

%Since the triangular mesh is labeled, classes such as background (black) and sky (cyan) can be discarded from the analysis 

%Sendo a malha triangular rotulada, classes como background (preto) e sky (cian) podem ser descartadas da análise

\section{Source-code: Usability, Licenses and Extension}\label{code-usability-and-extension}
References to the codes and experiments carried out in this study can be found in the Table \ref{tools-used}, in Appendix \ref{apendiceA}. Since the beginning of this work, libraries such as CGAL, PCL, VisualSfM, COLMAP, OpenCV, among others, have been used for tests and experiments throughout development. Of course, some of these libraries and software were discarded despite having a key role in refining the final methodology. Therefore, listing the technologies used, their sources, and other characteristics, is a way of guiding other works and contributing with related researches.
%As referências aos códigos e experimentos realizados neste trabalho, encontra-se na tabela do Apêndice \ref{apendiceA}. Desde o início deste trabalho, bibliotecas como CGAL, PCL, VisualSfM, COLMAP, OpenCV, entre outras, foram utilizadas para testes e experimentos ao longo de todo desenvolvimento. Evidentemente, algumas destas bibliotecas e softwares foram descartadas apesar de terem um papel fundamental no refinamento da metodologia final.

%\lstinputlisting[label=samplecode,caption=A sample]{/home/rodolfo/Bit/phd/cpp/cgal/3dfacadefeature/preprocessing/preprocessing.cpp}

\subsection{Difficulties}
This work was entirely carried out with the aid of Open-Source tools, for the most part, under MIT and GPL licenses\footnote{Licenses of a public domain that could be extended and, in case of GPL, must be shared.}, which includes the non-commercial extension and free-to-use code. In the table \ref{tools-used}, in the Appendix \ref{apendiceA}, the tools used and their relation with the respective methodological step are presented.
%Este trabalho foi inteiramente realizado com o auxílio de ferramentas de \emph{Software}-Livre e Código-Aberto, em sua grande maioria, sob licenças MIT e GPL\footnote{Licenças de caráter público e que podem serem extendidas e, no caso GPL, devem ser compartilhadas.}, que compreende a extensão não-comercial e livre utilização do código. Na Tabela \ref{tools-used}, no Apêndice \ref{apendiceA}, são apresentadas as ferramentas utilizadas e sua relação com a respectiva etapa metodológica. 

In addition to the results archived in this study, every implementation was carried out in order to be expandable, interoperable, understandable, cohesive, public and easily accessible. Therefore, all methodological steps are available for consultation and public use at the GitHub\texttrademark~\cite{github}, where the links and respective explanations are available in Table \ref{tools-developed}. All the datasets used for this research were provided with any cost. In the same way, private tools that were essential for the development of the research were difficult to access or too expensive to acquire, most of the technologies used in this study were free, for example, the tools mentioned in Section \ref{code-usability-and-extension}.
%Além das conclusões obtidas neste trabalho, toda implementação fora realizada de modo a compreender um código expansível, interoperável, compreensível, coeso, público e de fácil acesso. Portanto, todas etapas metodológicas estão disponíveis para consulta e utilização pública no site GitHub\texttrademark \cite{github}, conforme Tabela \ref{tools-used}, Apêndice \ref{apendiceA}. Os dados utilizados para essa pesquisa são de caráter de concessão. Doados por outras universidades, institutos e empresas (os detalhes podem ser visualizados na Tabela \ref{datasets}.  Da mesma forma, ferramentas de cunho privado, essenciais para o desenvolvimento da pesquisa, eram de difícil acesso ou demasiadamente caras para aquisição. Assim, grande parte das tecnologias utilizadas neste trabalho foram de caráter livre, por exemplo, as ferramentas citadas na Seção \ref{code-usability-and-extension}. 

Due to the technology approached in this study covering the state-of-the-art of classification and urban mapping solutions, the supply of training and courses is scarce. Likewise, in Brazil, there was a great difficulty in learning how to process LiDAR data during the first phases of this study. As we progressed, the operations involving SfM/MVS became more consistent, mainly, with the involvement and cooperation of multiple institutions (academic, military - national and international). For example, the DSG, in the revision of text regarding Brazilian standards and specifications for 3D geographic mapping in Brazil. The Department of Photogrammetry (IfP), at the University of Stuttgart, Germany, by offering disciplines of Computer Vision and Pattern Recognition. The Federal University of Paraná (UFPR), by their methodic assistance regarding the use of LiDAR in urban areas, among others. 
%Devido à tecnologia abordada neste trabalho abranger o estado-da-arte das soluções de classificação e mapeamento urbano, é escassa a oferta por treinamentos e cursos. Da mesma forma, no Brasil, houve uma enorme dificuldade de aprendizado quanto ao processamento de dados LiDAR durantes as primeiras fases deste estudo. A medida que se avançou, as operações envolvendo SfM/MVS tornaram-se mais consistentes, principalmente, com o envolvimento e cooperação de múltiplas instituições (acadêmica, militar, nacionais e internacionais) neste estudo. A exemplo, a DSG, na revisão de texto quanto às normas e especificações brasileira quanto ao mapeamento geográfico 3D no Brasil. O Departamento de Fotogrametria (IfP), na Universidade de Stuttgart, Alemanha, ao oferecer disciplinas de Visão Computacional e Reconhecimento de Padrões. A Universidade Federal do Paraná (UFPR), na assistência metódica quanto ao uso de LiDAR em áreas urbanas, entre outras.

\section{Future prospects}
Identifying facade features under a great variety and arrangement make up these tasks still a scientific challenge whose tendency is to expand. The technologies to observe cities, such as sophisticated sensors, reconstruction and classification techniques, evolve as the numerous architectural styles change according to local culture and way of life. Moreover, it is essential to think that the multiplicity of architectural styles is not the only problem. Studies, such as those carried out at the MIT Center for Art, Science and Technology (CAST), Massachusetts Institute of Technology (MIT)\footnote{Video available at https://www.youtube.com/watch?v=vRfNbhyPPKs. Accessed \today.} and at Eidgenössische Technische Hochschule (ETH) Zürich \cite{adriaenssens2016}, show, for example, that materials used in construction might become dynamic and therefore do not present a single static structure of a building. Urban occupation tends to evolve, which also demands that mapping techniques must both to follow the current architectural structures, as well as their eminent evolution.
%Identificar feições de fachadas sabendo-se da grande variedade e arranjos que compõe esses ambientes, é ainda uma questão científica cuja tendência é ampliar. As tecnologias de observação, sensores sofisticados, técnicas de reconstrução e classificação, evoluem ao passo que os inúmeros estilos arquitetônicos reverberam conforme a cultura e modo de vida locais. Além disso, é essencial pensar que a multiplicidade de estilos arquitetônicos não seja apenas o único dos problemas. Estudos, como os realizados no Instituto de Tecnologia de Massachussets (MIT) \cite{REF}, mostram, por exemplo, que materiais utilizados na Construção Civil podem tornar-se dinâmicos, não apresentando, portanto, uma estrutura única e estática de um edificío. A ocupação urbana tende a evoluir, logo, as técnicas de mapeamento não só devem acompanhar as estruturas arquitetônicas atuais, como também sua eminente evolução.

As future prospects, to explore aspects such as the use of non-supervised models, separate tasks such as pre-classification of architectural styles, and mix different DL techniques to deal with specific scenarios, such as the chaotic arrangement of urban elements. Even it is the first study case, the methodology presented is highly dependent of the quality and number of images for training. The power of generalization in a neural network occurs as soon as the training set is large enough, as well as their resolutions. Besides, once this study has shown the robustness of CNN over complicated situations, we believe that efforts directed towards post-processing techniques could make the final 3D labeled model even more accurate.

%A elevada complexidade em regiões urbanizadas tende a enumerar muitos outros desafios quanto a reconstrução de edificações. A literatura quanto a extração automática de características, sobretudo a de fachadas, avança para estilos específicos de arquitetura (como mostrado na Seção \ref{architectural-style}, enquanto que para outros estilos, há ainda grandes desafios. Não bastando, 

%Community data. During the last decades, geometric modeling issues on urban environments have been largely tackled from specialized sensors as airborne/satellite stereoscopic imagery or Laser scanning. Today, this data acquisition paradigm is completely reassessed with the emergence of new acquisition procedures that allow non-specialized people to freely access and enrich big datasets. An increasing variety of sensors is progressively disseminated everywhere; the best illustration is probably the 1.5 billion smartphones interacting in the world. The emergence of such "community data" coupled with the expanding computational resources constitute a great opportunity to propose efficient solutions to two big recurrent limitations in urban modeling: the low coverage of the specialized data (only a hundred cities are digitalized in 3D in the world) and the lack of flexibility of existing methods that are designed from a specific type of data to produce standardized 3D models. This new paradigm leads to an entire rethinking of the existing algorithm designs towards more flexibility and ditlerent data specificities, going from specialized, rare, private, expensive and accurate to multisourced, massive, public, free and defect-laden measurements \cite{lafarge2015}.

%Dynamical urban environments. The fact urban environments permanently evolve in time provokes considerable efforts for detecting changes and updating models. Beyond change detection and city model updating, which are both traditional problems largely addressed in the literature, one major scientific challenge is to understand tendencies and even anticipate the evolution of urban environments in terms of geometry. Recent works in vision [23] have demonstrated that prediction functions can be efficiently designed to forecast human actions from image sequences. In urban modeling, such prediction functions could be created by analyzing geometric variations along time from a big flux of information, typically community data. Many urban indicators could be studied, going from the expansion/shrinking directions of cities to evolution of architectural style through to the road network complexity \cite{lafarge2015}.

% dificuldade na aquisição de dados - autorização e leis para sobrevoo, recursos financeiros escassos à pesquisa, 

% In terms of image classification or labelling, the level of precision has been reached representatives values. To mention a consistent example, the inumerous API provided by Google Inc., which could be roughly described as a massive junction of research fields working on the most common problems in artificial human comprehension, such as computer vision, neural networks, etc. In this case, the state-of-art of ....The facilities provided 

%such as the Cloud Vision\textregistered API\footnote{}, which is based in the most sofisticated algorithm on machine learning, computer vision, conceptual language  allows to label images  and others inumerous free application, libraires, and open-sources capables    
